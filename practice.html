<!DOCTYPE html>
<html>
    
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>map practice</title>
    <style>
      /* Most up to date code. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #right-panel {
        font-family: 'Roboto','sans-serif';
        line-height: 30px;
        padding-left: 10px;
      }

      #right-panel select, #right-panel input {
        font-size: 15px;
      }

      #right-panel select {
        width: 100%;
      }

      #right-panel i {
        font-size: 12px;
      }
      #right-panel {
        font-family: Arial, Helvetica, sans-serif;
        position: absolute;
        right: 5px;
        top: 60%;
        margin-top: -195px;
        height: 330px;
        width: 200px;
        padding: 5px;
        z-index: 5;
        border: 1px solid #999;
        background: #fff;
      }
      h2 {
        font-size: 22px;
        margin: 0 0 5px 0;
      }
      ul {
        list-style-type: none;
        padding: 0;
        margin: 0;
        height: 271px;
        width: 200px;
        overflow-y: scroll;
      }
      li {
        background-color: #f1f1f1;
        padding: 10px;
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
      }
      li:nth-child(odd) {
        background-color: #fcfcfc;
      }
      #more {
        width: 100%;
        margin: 5px 0 0 0;
      }
    </style>
      
      <script src="script.js"></script>
      
       <link rel="stylesheet" href="style.css">
      
    <script>

      var map;

        
        
      function initMap() {
        // Create the map.
       var home = {lat: 53.3498123, lng: -6.2624435}; 
        map = new google.maps.Map(document.getElementById('map'), {
          center:{lat: 53.3498123, lng: -6.2624435},
          zoom: 14,
           styles:[
    {
        "featureType": "administrative",
        "elementType": "labels.text.fill",
        "stylers": [
            {
                "color": "#597c84"
            },
            {
                "lightness": "-37"
            }
        ]
    },
    {
        "featureType": "administrative.province",
        "elementType": "geometry.stroke",
        "stylers": [
            {
                "visibility": "off"
            }
        ]
    },
    {
        "featureType": "landscape",
        "elementType": "geometry",
        "stylers": [
            {
                "lightness": "0"
            },
            {
                "saturation": "0"
            },
            {
                "color": "#f5f5f2"
            },
            {
                "gamma": "1"
            }
        ]
    },
    {
        "featureType": "landscape.man_made",
        "elementType": "all",
        "stylers": [
            {
                "lightness": "-3"
            },
            {
                "gamma": "1.00"
            }
        ]
    },
    {
        "featureType": "landscape.natural.terrain",
        "elementType": "all",
        "stylers": [
            {
                "visibility": "off"
            }
        ]
    },
    {
        "featureType": "poi",
        "elementType": "all",
        "stylers": [
            {
                "visibility": "off"
            }
        ]
    },
    {
        "featureType": "poi.park",
        "elementType": "geometry.fill",
        "stylers": [
            {
                "color": "#bae5ce"
            },
            {
                "visibility": "on"
            }
        ]
    },
    {
        "featureType": "road",
        "elementType": "all",
        "stylers": [
            {
                "saturation": -100
            },
            {
                "lightness": 45
            },
            {
                "visibility": "simplified"
            }
        ]
    },
    {
        "featureType": "road.highway",
        "elementType": "all",
        "stylers": [
            {
                "visibility": "simplified"
            }
        ]
    },
    {
        "featureType": "road.highway",
        "elementType": "geometry.fill",
        "stylers": [
            {
                "color": "#fac9a9"
            },
            {
                "visibility": "simplified"
            }
        ]
    },
    {
        "featureType": "road.highway",
        "elementType": "labels.text",
        "stylers": [
            {
                "color": "#4e4e4e"
            }
        ]
    },
    {
        "featureType": "road.arterial",
        "elementType": "labels.text.fill",
        "stylers": [
            {
                "color": "#787878"
            }
        ]
    },
    {
        "featureType": "road.arterial",
        "elementType": "labels.icon",
        "stylers": [
            {
                "visibility": "off"
            }
        ]
    },
    {
        "featureType": "transit",
        "elementType": "all",
        "stylers": [
            {
                "visibility": "simplified"
            }
        ]
    },
    {
        "featureType": "transit.station.airport",
        "elementType": "labels.icon",
        "stylers": [
            {
                "hue": "#0a00ff"
            },
            {
                "saturation": "-77"
            },
            {
                "gamma": "0.57"
            },
            {
                "lightness": "0"
            }
        ]
    },
    {
        "featureType": "transit.station.rail",
        "elementType": "labels.text.fill",
        "stylers": [
            {
                "color": "#43321e"
            }
        ]
    },
    {
        "featureType": "transit.station.rail",
        "elementType": "labels.icon",
        "stylers": [
            {
                "hue": "#ff6c00"
            },
            {
                "lightness": "4"
            },
            {
                "gamma": "0.75"
            },
            {
                "saturation": "-68"
            }
        ]
    },
    {
        "featureType": "water",
        "elementType": "all",
        "stylers": [
            {
                "color": "#eaf6f8"
            },
            {
                "visibility": "on"
            }
        ]
    },
    {
        "featureType": "water",
        "elementType": "geometry.fill",
        "stylers": [
            {
                "color": "#a8d7d8"
            }
        ]
    },
    {
        "featureType": "water",
        "elementType": "labels.text.fill",
        "stylers": [
            {
                "lightness": "-49"
            },
            {
                "saturation": "-53"
            },
            {
                "gamma": "0.79"
            }
        ]
    }
]
        });
            infoWindow = new google.maps.InfoWindow;
            if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var pos = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };
              getplaces(pos);
              
             

            infoWindow.setPosition(pos);
            infoWindow.setContent('My Home.');
            infoWindow.open(map);
            map.setCenter(pos);
          }, function() {
            handleLocationError(true, infoWindow, map.getCenter());
          });
        }
          
          function getplaces(pos){
              
              
              
          
          
          

        // Create the places service.
        var service = new google.maps.places.PlacesService(map);
        var getNextPage = null;
        var moreButton = document.getElementById('more');
        moreButton.onclick = function() {
          moreButton.disabled = true;
          if (getNextPage) getNextPage();
        }; 

        // Perform a nearby search.
        service.nearbySearch(
            {location: pos, radius: 2000, //type: ['park']},
             keyword: ['park']},
            function(results, status, pagination) {
              if (status !== 'OK') return;

              createMarkers(results);
              moreButton.disabled = !pagination.hasNextPage;
              getNextPage = pagination.hasNextPage && function() {
                pagination.nextPage();
              };
            });
      }
          
          
          
      }
//change markers to info windows??//
      function createMarkers(places) {
        var bounds = new google.maps.LatLngBounds();
        var placesList = document.getElementById('places');

        for (var i = 0, place; place = places[i]; i++) {
          var image = {
            url: place.icon,
            size: new google.maps.Size(71,71),
            origin: new google.maps.Point(0, 0),
            anchor: new google.maps.Point(17, 34),
            scaledSize: new google.maps.Size(50,50)
          };

          var marker = new google.maps.Marker({
            map: map,
            icon: image,
            title: place.name,
            position: place.geometry.location
          });
            
          

          var li = document.createElement('li');
          li.textContent = place.name;
          placesList.appendChild(li);

       //   bounds.extend(place.geometry.location);
        }
      //  map.fitBounds(bounds);
      }
        
        
    </script>
     
  <script>
      function dynInput(cbox) {
      if (cbox.checked) {
        var input = document.createElement("input");
        input.type = "text";
          input.placeholder = "Name";
        var div = document.createElement("div");
        div.id = cbox.name;
       
        div.appendChild(input);
        document.getElementById("insertinputs").appendChild(div);
          
        
          
          var input = document.createElement("input");
        input.type = "text";
          input.placeholder = "Phone";
        var div = document.createElement("div");
        div.id = cbox.phone;
        
        div.appendChild(input);
        document.getElementById("insertinputs").appendChild(div);
      } else {
        document.getElementById(cbox.name).remove();
           document.getElementById(cbox.phone).remove();
      }
    }
      </script>
      
  </head>
    
    
    
  <body>
      
       <header> 
           
         <div class="logo"> <a href="practice.html"> <img id="logo"
    src="logo.svg" 
    alt="Good Neighbour logo" 
            ></a>
             
            
             
            </div> 
         
             </header> 
      
      <main>
          
          <div class="info">
              
              
          <img id="fill"
    src="fill.svg" 
    alt="Fill out this form" title="Your choice will auto-populate the print out"
            > 
             
            
              
              <img id="print"
    src="print.svg" 
    alt="Print at home" title="Print as many copies as you like"
            >
               <img id="deliver"
    src="deliver.svg" 
    alt="Deliver to your neighbours" title="Don't forget to wash your hands before and after delivering"
            >
          </div>
    
          <div class="page">
   <section>
      <div id="mask">
    <div id="map"></div>
      </div>
      </section>
              
              <section>
               <div class="cart">  <img id="logo"
    src="logo.svg" 
    alt="Good Neighbour logo" 
            >
             
            
             
            </div>
              </section>
    
          <section>
          <form>
              <label>Offer to run errands for neighbours who are cocooning.</label>
              <input type="checkbox" placeholder="Name" name="check1"  onclick="dynInput(this);" />
<p id="insertinputs"></p>
              
              <button class="pdf">Download PDF</button>
              </form>
          </section>
          
          
   <div id="right-panel">
      <h2>Results</h2>
      <ul id="places"></ul>
      <button id="more">More results</button>
    </div>
     
      
          </div>
     
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCn71n84byz5b_tQgirLxTE37SRzCm9v88&libraries=places&callback=initMap" async defer></script>
      
       <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCn71n84byz5b_tQgirLxTE37SRzCm9v88&libraries=places"></script>
      
      <script src="https://maps.googleapis.com/maps/api/place/nearbysearch/output?parameters"></script>
      
    
      </main>
  </body>
</html>